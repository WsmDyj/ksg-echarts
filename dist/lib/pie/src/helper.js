"use strict";var l=Object.defineProperty;var g=(s,t,e)=>t in s?l(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var r=(s,t,e)=>(g(s,typeof t!="symbol"?t+"":t,e),e);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const u=require("../../utils.js");class y{constructor(t){r(this,"$props");r(this,"data");r(this,"option");this.$props=t,this.data=this.$props.data,this.option=this.$props.option}getPieDataset(){const t=[],e=this.data,i=this.option;if(!Array.isArray(e))t.push(u.getDataset(e,i,{chartType:"pie"}));else if(Array.isArray(e)&&e.length>1)for(const o of e)t.push(u.getDataset(o,i,{chartType:"pie"}));return t}getPieSeries(){var i,o;let t=[];const e=((i=this.option)==null?void 0:i.variant)==="donut";return t=(o=this.data)==null?void 0:o.measures.map(({name:h},c)=>{var a,p,n;const d=((n=(p=(a=this.$props)==null?void 0:a.option)==null?void 0:p.series)==null?void 0:n[c])||{};return{type:"pie",name:h,radius:e?["35%","60%"]:[0,"60%"],...d}}),t}getChartOption(){return{dataset:this.getPieDataset(),series:this.getPieSeries(),...this.option}}}exports.default=y;

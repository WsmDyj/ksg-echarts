"use strict";var y=Object.defineProperty;var f=(s,t,e)=>t in s?y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>(f(s,typeof t!="symbol"?t+"":t,e),e);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("../../utils.js"),m=require("lodash-es");class A{constructor(t){o(this,"$props");o(this,"data");o(this,"option");this.$props=t,this.data=this.$props.data,this.option=this.$props.option}getPieDataset(){const t=[],e=this.data,i=this.option;if(!Array.isArray(e))t.push(c.getDataset(e,i,{chartType:"pie"}));else if(Array.isArray(e)&&e.length>1)for(const r of e)t.push(c.getDataset(r,i,{chartType:"pie"}));return t}getPieSeries(){var i,r;let t=[];const e=((i=this.option)==null?void 0:i.variant)==="donut";return t=(r=this.data)==null?void 0:r.measures.map(({name:d},l)=>{var a,n,p,h,u;const g=Array.isArray((a=this==null?void 0:this.option)==null?void 0:a.series)?(p=(n=this==null?void 0:this.option)==null?void 0:n.series)==null?void 0:p[l]:((u=(h=this.$props)==null?void 0:h.option)==null?void 0:u.series)||{};return{type:"pie",name:d,radius:e?["35%","60%"]:[0,"60%"],...g}}),t}getChartOption(){return m.merge({dataset:this.getPieDataset(),series:this.getPieSeries()},this.option)}}exports.default=A;

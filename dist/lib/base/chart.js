"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),f=require("../node_modules/vue-echarts/dist/index.esm.min.js"),l=require("lodash-es"),q=require("./emptyData.js"),y=require("./props.js"),b=require("../utils.js"),w=require("./index.js"),x=require("../node_modules/echarts/lib/extension.js"),p=require("../node_modules/echarts/lib/renderer/installCanvasRenderer.js"),C=require("../node_modules/echarts/lib/component/dataset/install.js"),P=require("../node_modules/echarts/lib/component/transform/install.js"),T=require("../node_modules/echarts/lib/component/title/install.js"),$=require("../node_modules/echarts/lib/component/tooltip/install.js"),N=require("../node_modules/echarts/lib/component/legend/install.js");x.use([p.install,C.install,P.install,T.install,$.install,N.install]);const _=t.defineComponent({components:{VChart:f.default},name:"KsgBaseChart",inheritAttrs:!1,props:y.basicProps,setup(e,{slots:s,expose:c,attrs:d}){const a=t.ref(!0),h=t.inject(w.PALETTE_KEY,null),i=t.computed(()=>e.palette||b.unwrapInjected(h,null)),m=t.computed(()=>{var u;const{legend:n={}}=e.option,v={type:"scroll",orient:"horizontal",bottom:"bottom"};a.value=l.isArray(e.option.dataset)?!0:!!((u=e.option.dataset.source)!=null&&u.length),console.log(i.value);const r={...e.option,legend:l.merge(v,n)};return i.value&&Reflect.set(r,"color",i.value),r}),o=t.shallowRef(),g=t.computed(()=>({height:l.isNumber(e.height)?`${e.height}px`:e.height,width:l.isNumber(e.width)?`${e.width}px`:e.width}));return c({getInstance:()=>{var n;return(n=o.value)==null?void 0:n.chart}}),()=>t.createVNode("div",{style:g.value,class:"ksgchart"},[!a.value&&!e.loading?s.default?s.default():t.createVNode(q.default,{emptyText:e.emptyText},null):t.createVNode(t.resolveComponent("v-chart"),t.mergeProps({updateOptions:{notMerge:!0}},e,d,{ref:o,style:{height:"100%",width:"100%"},autoresize:e.autoresize,option:m.value,"init-options":{renderer:"svg"}}),null)])}});exports.default=_;
